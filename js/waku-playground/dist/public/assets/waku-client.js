import{r as v,g as ee}from"./index-ZTOZCyuL.js";import{r as te}from"./index-ygKPTG2k.js";var K={exports:{}},g={},ne=te,re=v,oe={stream:!0};function se(e,t){if(e){var n=e[t[0]];if(e=n[t[2]])n=e.name;else{if(e=n["*"],!e)throw Error('Could not find the module "'+t[0]+'" in the React SSR Manifest. This is probably a bug in the React Server Components bundler.');n=t[2]}return t.length===4?[e.id,e.chunks,n,1]:[e.id,e.chunks,n]}return t}var b=new Map;function M(e){var t=__webpack_require__(e);return typeof t.then!="function"||t.status==="fulfilled"?null:(t.then(function(n){t.status="fulfilled",t.value=n},function(n){t.status="rejected",t.reason=n}),t)}function le(){}function ue(e){for(var t=e[1],n=[],r=0;r<t.length;){var u=t[r++],c=t[r++],f=b.get(u);f===void 0?(V.set(u,c),c=__webpack_chunk_load__(u),n.push(c),f=b.set.bind(b,u,null),c.then(f,le),b.set(u,c)):f!==null&&n.push(f)}return e.length===4?n.length===0?M(e[0]):Promise.all(n).then(function(){return M(e[0])}):0<n.length?Promise.all(n):null}var V=new Map,ie=__webpack_require__.u;__webpack_require__.u=function(e){var t=V.get(e);return t!==void 0?t:ie(e)};var ce=ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Dispatcher,$=Symbol.for("react.element"),ae=Symbol.for("react.provider"),fe=Symbol.for("react.server_context"),pe=Symbol.for("react.lazy"),D=Symbol.for("react.default_value"),j=Symbol.iterator;function ve(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var de=Array.isArray,J=Object.getPrototypeOf,_e=Object.prototype,Q=new WeakMap;function ye(e){return Number.isFinite(e)?e===0&&1/e===-1/0?"$-0":e:e===1/0?"$Infinity":e===-1/0?"$-Infinity":"$NaN"}function he(e,t,n,r){function u(a,o){if(o===null)return null;if(typeof o=="object"){if(typeof o.then=="function"){s===null&&(s=new FormData),f++;var i=c++;return o.then(function(p){p=JSON.stringify(p,u);var d=s;d.append(t+i,p),f--,f===0&&n(d)},function(p){r(p)}),"$@"+i.toString(16)}if(de(o))return o;if(o instanceof FormData){s===null&&(s=new FormData);var l=s;a=c++;var w=t+a+"_";return o.forEach(function(p,d){l.append(w+d,p)}),"$K"+a.toString(16)}if(o instanceof Map)return o=JSON.stringify(Array.from(o),u),s===null&&(s=new FormData),a=c++,s.append(t+a,o),"$Q"+a.toString(16);if(o instanceof Set)return o=JSON.stringify(Array.from(o),u),s===null&&(s=new FormData),a=c++,s.append(t+a,o),"$W"+a.toString(16);if(ve(o))return Array.from(o);if(a=J(o),a!==_e&&(a===null||J(a)!==null))throw Error("Only plain objects, and a few built-ins, can be passed to Server Actions. Classes or null prototypes are not supported.");return o}if(typeof o=="string")return o[o.length-1]==="Z"&&this[a]instanceof Date?"$D"+o:(o=o[0]==="$"?"$"+o:o,o);if(typeof o=="boolean")return o;if(typeof o=="number")return ye(o);if(typeof o>"u")return"$undefined";if(typeof o=="function"){if(o=Q.get(o),o!==void 0)return o=JSON.stringify(o,u),s===null&&(s=new FormData),a=c++,s.set(t+a,o),"$F"+a.toString(16);throw Error("Client Functions cannot be passed directly to Server Functions. Only Functions passed from the Server can be passed back again.")}if(typeof o=="symbol"){if(a=o.description,Symbol.for(a)!==o)throw Error("Only global symbols received from Symbol.for(...) can be passed to Server Functions. The symbol Symbol.for("+(o.description+") cannot be found among global symbols."));return"$S"+a}if(typeof o=="bigint")return"$n"+o.toString(10);throw Error("Type "+typeof o+" is not supported as an argument to a Server Function.")}var c=1,f=0,s=null;e=JSON.stringify(e,u),s===null?n(e):(s.set(t+"0",e),f===0&&n(s))}function Y(e,t){Q.set(e,t)}var I=re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ContextRegistry;function y(e,t,n,r){this.status=e,this.value=t,this.reason=n,this._response=r}y.prototype=Object.create(Promise.prototype);y.prototype.then=function(e,t){switch(this.status){case"resolved_model":m(this);break;case"resolved_module":O(this)}switch(this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":case"cyclic":e&&(this.value===null&&(this.value=[]),this.value.push(e)),t&&(this.reason===null&&(this.reason=[]),this.reason.push(t));break;default:t(this.reason)}};function we(e){switch(e.status){case"resolved_model":m(e);break;case"resolved_module":O(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":case"cyclic":throw e;default:throw e.reason}}function S(e,t){for(var n=0;n<e.length;n++)(0,e[n])(t)}function z(e,t,n){switch(e.status){case"fulfilled":S(t,e.value);break;case"pending":case"blocked":case"cyclic":e.value=t,e.reason=n;break;case"rejected":n&&S(n,e.reason)}}function C(e,t){if(e.status==="pending"||e.status==="blocked"){var n=e.reason;e.status="rejected",e.reason=t,n!==null&&S(n,t)}}function L(e,t){if(e.status==="pending"||e.status==="blocked"){var n=e.value,r=e.reason;e.status="resolved_module",e.value=t,n!==null&&(O(e),z(e,n,r))}}var k=null,_=null;function m(e){var t=k,n=_;k=e,_=null;var r=e.value;e.status="cyclic",e.value=null,e.reason=null;try{var u=JSON.parse(r,e._response._fromJSON);if(_!==null&&0<_.deps)_.value=u,e.status="blocked",e.value=null,e.reason=null;else{var c=e.value;e.status="fulfilled",e.value=u,c!==null&&S(c,u)}}catch(f){e.status="rejected",e.reason=f}finally{k=t,_=n}}function O(e){try{var t=e.value,n=__webpack_require__(t[0]);if(t.length===4&&typeof n.then=="function")if(n.status==="fulfilled")n=n.value;else throw n.reason;var r=t[2]==="*"?n:t[2]===""?n.__esModule?n.default:n:n[t[2]];e.status="fulfilled",e.value=r}catch(u){e.status="rejected",e.reason=u}}function x(e,t){e._chunks.forEach(function(n){n.status==="pending"&&C(n,t)})}function h(e,t){var n=e._chunks,r=n.get(t);return r||(r=new y("pending",null,null,e),n.set(t,r)),r}function Se(e,t,n,r){if(_){var u=_;r||u.deps++}else u=_={deps:r?0:1,value:null};return function(c){t[n]=c,u.deps--,u.deps===0&&e.status==="blocked"&&(c=e.value,e.status="fulfilled",e.value=u.value,c!==null&&S(c,u.value))}}function ge(e){return function(t){return C(e,t)}}function me(e,t){function n(){var u=Array.prototype.slice.call(arguments),c=t.bound;return c?c.status==="fulfilled"?r(t.id,c.value.concat(u)):Promise.resolve(c).then(function(f){return r(t.id,f.concat(u))}):r(t.id,u)}var r=e._callServer;return Y(n,t),n}function N(e,t){switch(e=h(e,t),e.status){case"resolved_model":m(e)}switch(e.status){case"fulfilled":return e.value;default:throw e.reason}}function Ee(e,t,n,r){if(r[0]==="$"){if(r==="$")return $;switch(r[1]){case"$":return r.slice(1);case"L":return t=parseInt(r.slice(2),16),e=h(e,t),{$$typeof:pe,_payload:e,_init:we};case"@":return t=parseInt(r.slice(2),16),h(e,t);case"S":return Symbol.for(r.slice(2));case"P":return e=r.slice(2),I[e]||(t={$$typeof:fe,_currentValue:D,_currentValue2:D,_defaultValue:D,_threadCount:0,Provider:null,Consumer:null,_globalName:e},t.Provider={$$typeof:ae,_context:t},I[e]=t),I[e].Provider;case"F":return t=parseInt(r.slice(2),16),t=N(e,t),me(e,t);case"Q":return t=parseInt(r.slice(2),16),e=N(e,t),new Map(e);case"W":return t=parseInt(r.slice(2),16),e=N(e,t),new Set(e);case"I":return 1/0;case"-":return r==="$-0"?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(r.slice(2)));case"n":return BigInt(r.slice(2));default:switch(r=parseInt(r.slice(1),16),e=h(e,r),e.status){case"resolved_model":m(e);break;case"resolved_module":O(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":case"cyclic":return r=k,e.then(Se(r,t,n,e.status==="cyclic"),ge(r)),null;default:throw e.reason}}}return r}function be(){throw Error('Trying to call a function from "use server" but the callServer option was not implemented in your router runtime.')}function X(e,t,n,r){var u=new Map;return e={_bundlerConfig:e,_moduleLoading:t,_callServer:n!==void 0?n:be,_nonce:r,_chunks:u,_stringDecoder:new TextDecoder,_fromJSON:null,_rowState:0,_rowID:0,_rowTag:0,_rowLength:0,_buffer:[]},e._fromJSON=Ce(e),e}function ke(e,t,n){var r=e._chunks,u=r.get(t);n=JSON.parse(n,e._fromJSON);var c=se(e._bundlerConfig,n);if(n=ue(c)){if(u){var f=u;f.status="blocked"}else f=new y("blocked",null,null,e),r.set(t,f);n.then(function(){return L(f,c)},function(s){return C(f,s)})}else u?L(u,c):r.set(t,new y("resolved_module",c,null,e))}function Ce(e){return function(t,n){return typeof n=="string"?Ee(e,this,t,n):typeof n=="object"&&n!==null?(t=n[0]===$?{$$typeof:$,type:n[1],key:n[2],ref:null,props:n[3],_owner:null}:n,t):n}}function Z(e,t){function n(c){var f=c.value;if(c.done)x(e,Error("Connection closed."));else{var s=0,a=e._rowState,o=e._rowID,i=e._rowTag,l=e._rowLength;c=e._buffer;for(var w=f.length;s<w;){var p=-1;switch(a){case 0:p=f[s++],p===58?a=1:o=o<<4|(96<p?p-87:p-48);continue;case 1:a=f[s],a===84?(i=a,a=2,s++):64<a&&91>a?(i=a,a=3,s++):(i=0,a=3);continue;case 2:p=f[s++],p===44?a=4:l=l<<4|(96<p?p-87:p-48);continue;case 3:p=f.indexOf(10,s);break;case 4:p=s+l,p>f.length&&(p=-1)}var d=f.byteOffset+s;if(-1<p){s=new Uint8Array(f.buffer,d,p-s),l=e,d=i;var E=l._stringDecoder;i="";for(var R=0;R<c.length;R++)i+=E.decode(c[R],oe);switch(i+=E.decode(s),d){case 73:ke(l,o,i);break;case 72:if(o=i[0],i=i.slice(1),l=JSON.parse(i,l._fromJSON),i=ce.current)switch(o){case"D":i.prefetchDNS(l);break;case"C":typeof l=="string"?i.preconnect(l):i.preconnect(l[0],l[1]);break;case"L":o=l[0],s=l[1],l.length===3?i.preload(o,s,l[2]):i.preload(o,s);break;case"m":typeof l=="string"?i.preloadModule(l):i.preloadModule(l[0],l[1]);break;case"S":typeof l=="string"?i.preinitStyle(l):i.preinitStyle(l[0],l[1]===0?void 0:l[1],l.length===3?l[2]:void 0);break;case"X":typeof l=="string"?i.preinitScript(l):i.preinitScript(l[0],l[1]);break;case"M":typeof l=="string"?i.preinitModuleScript(l):i.preinitModuleScript(l[0],l[1])}break;case 69:i=JSON.parse(i),s=i.digest,i=Error("An error occurred in the Server Components render. The specific message is omitted in production builds to avoid leaking sensitive details. A digest property is included on this error instance which may provide additional details about the nature of the error."),i.stack="Error: "+i.message,i.digest=s,s=l._chunks,(d=s.get(o))?C(d,i):s.set(o,new y("rejected",null,i,l));break;case 84:l._chunks.set(o,new y("fulfilled",i,null,l));break;default:s=l._chunks,(d=s.get(o))?(l=d,o=i,l.status==="pending"&&(i=l.value,s=l.reason,l.status="resolved_model",l.value=o,i!==null&&(m(l),z(l,i,s)))):s.set(o,new y("resolved_model",i,null,l))}s=p,a===3&&s++,l=o=i=a=0,c.length=0}else{f=new Uint8Array(f.buffer,d,f.byteLength-s),c.push(f),l-=f.byteLength;break}}return e._rowState=a,e._rowID=o,e._rowTag=i,e._rowLength=l,u.read().then(n).catch(r)}}function r(c){x(e,c)}var u=t.getReader();u.read().then(n).catch(r)}g.createFromFetch=function(e,t){var n=X(null,null,t&&t.callServer?t.callServer:void 0,void 0);return e.then(function(r){Z(n,r.body)},function(r){x(n,r)}),h(n,0)};g.createFromReadableStream=function(e,t){return t=X(null,null,t&&t.callServer?t.callServer:void 0,void 0),Z(t,e),h(t,0)};g.createServerReference=function(e,t){function n(){var r=Array.prototype.slice.call(arguments);return t(e,r)}return Y(n,{id:e,bound:null}),n};g.encodeReply=function(e){return new Promise(function(t,n){he(e,"",t,n)})};K.exports=g;var Oe=K.exports;const Re=ee(Oe),F=e=>{if(e==="")return"index.txt";if(e==="index")throw new Error("Input should not be `index`");if(e.startsWith("/"))throw new Error("Input should not start with `/`");if(e.endsWith("/"))throw new Error("Input should not end with `/`");return e+".txt"},{createFromFetch:W,encodeReply:De}=Re,T="/RSC/",P=async e=>{const t=await e;if(!t.ok){const n=new Error(t.statusText);throw n.statusCode=t.status,n}return t},U=(e,t,n)=>(t.has(n)?t:t.set(n,e())).get(n),Ie=new WeakMap,G=(e,t)=>{const n=async()=>{const u={...await e,...await t};return delete u._value,u},r=U(()=>new WeakMap,Ie,e);return U(n,r,t)},Ne=[],B=(e,t,n,r=Ne)=>{let u=r[0];if(u&&u[0]===e&&u[1]===t)return u[2]=n,u[3];const c={async callServer(i,l){const w=fetch(T+F(encodeURIComponent(i)),{method:"POST",body:await De(l)}),p=W(P(w),c),d=u[2];return v.startTransition(()=>{d(E=>G(E,p))}),(await p)._value}},f=globalThis.__WAKU_PREFETCHED__||(globalThis.__WAKU_PREFETCHED__={}),s=T+F(e)+(t?"?"+t:""),a=f[s]||fetch(s);delete f[s];const o=W(P(a),c);return r[0]=u=[e,t,n,o],o},Te=(e,t)=>{const n=globalThis.__WAKU_PREFETCHED__||(globalThis.__WAKU_PREFETCHED__={}),r=T+F(e)+(t?"?"+t:"");r in n||(n[r]=fetch(r))},H=v.createContext(()=>{throw new Error("Missing Root component")}),A=v.createContext(null),Ae=({initialInput:e,initialSearchParamsString:t,cache:n,children:r})=>{const[u,c]=v.useState(()=>B(e||"",t||"",s=>c(s),n)),f=v.useCallback((s,a)=>{const o=B(s,(a==null?void 0:a.toString())||"",c,n);c(i=>G(i,o))},[n]);return v.createElement(H.Provider,{value:f},v.createElement(A.Provider,{value:u},r))},Me=()=>v.use(H),q=v.createContext(void 0),$e=v.memo(q.Provider),je=({id:e,children:t,fallback:n})=>{const r=v.use(A);if(!r)throw new Error("Missing Root component");const u=v.use(r);if(!(e in u)){if(n)return n;throw new Error("Not found: "+e)}return v.createElement($e,{value:t},u[e])},Je=()=>v.use(q),Le=({elements:e,children:t})=>v.createElement(A.Provider,{value:e},t);export{Je as Children,Ae as Root,Le as ServerRoot,je as Slot,B as fetchRSC,Te as prefetchRSC,Me as useRefetch};
